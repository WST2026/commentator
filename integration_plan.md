# 텔레그램-벡터DB 통합 작업 계획

## 목표
- 텔레그램 챗봇을 통해 사용자의 입력을 받고,
- 입력을 벡터DB의 유사도 검색 함수에 전달하여 관련 문서를 찾고,
- 검색 결과(문서)와 원래 입력을 함께 텔레그램으로 응답하는 파이프라인을 구현

---

## 세부 작업 목록

1. **io/TelegramLlmBot.py 리팩토링 및 확장**
   - 기존 LLM 답변 대신, 사용자의 입력을 받아 벡터DB 검색 함수 호출로 변경
   - 텔레그램 메시지 핸들러에서 입력 텍스트를 받아 처리

2. **vectorDB/convert_and_upload.py의 search_by_vector 함수 분리/모듈화**
   - search_by_vector 함수만 별도 모듈로 분리 (예: vector_search.py)
   - 텔레그램 챗봇에서 import하여 직접 호출 가능하게 구조 변경

3. **입출력 파이프라인 연결**
   - 텔레그램에서 받은 입력 → search_by_vector 호출 → 결과(문서들) 포맷팅 → 텔레그램으로 전송
   - 결과 메시지에는: 
     - 사용자의 원래 입력
     - 유사도 검색으로 찾은 문서(제목, 요약, URL 등) 포함

4. **환경설정 및 의존성 관리**
   - io/requirements.txt, vectorDB/requirements.txt 통합/정리
   - 필요한 경우, config 경로 등 상대경로 문제 해결

5. **테스트 및 예외처리**
   - 텔레그램 챗봇에서 벡터DB 연결 실패, 검색 결과 없음 등 예외 상황 처리

6. **최종 점검 및 문서화**
   - 통합된 파이프라인의 사용법, 구조, 주의사항을 README에 추가 